<form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" class="form">
  <div class="inside-form">
    <mat-card-title>Register</mat-card-title>
    <mat-form-field>
      <mat-label>Name</mat-label>
      <input
        formControlName="name"
        matInput
      >
      <mat-error *ngIf="form.get('name').invalid && form.get('name').touched">{{getErrorMessageName()}}</mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Email</mat-label>
      <input
        formControlName="email"
        matInput
      >
      <mat-error *ngIf="form.get('email').invalid && form.get('email').touched">{{getErrorMessageEmail()}}</mat-error>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Password</mat-label>
      <input
        formControlName="password"
        matInput
        [type]="hide ? 'password' : 'text'"
      >
      <mat-icon class="icon" matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
      <mat-error *ngIf="form.get('password').invalid && form.get('password').touched">{{getErrorMessagePassword()}}
      </mat-error>
    </mat-form-field>
    <div class="buttons">
      <button routerLink="/login" type="button" class="register-btn" mat-raised-button="primary">Back to login</button>
      <button [disabled]="form.invalid" type="submit" mat-raised-button="primary">Register</button>
    </div>
  </div>
</form>
